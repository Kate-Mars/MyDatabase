# ОТЧЁТ по разработке базы данных и анализу алгоритмов

## 1. Введение

Целью работы является разработка настольного Java-приложения для учёта товарных единиц и связанных с ними операций. Проект включает реализацию собственной файловой базы данных, графического интерфейса, а также механизм экспорта данных в XLSX. В отчёте описана предметная область, структура БД, а также проведён анализ сложности ключевых операций: добавления, удаления и поиска.

## 2. Описание предметной области

Выбранная предметная область — учёт товаров небольшого магазина/склада.
Система должна хранить основные данные о товарных позициях и поддерживать базовые операции над ними.

Основные сущности:
- ID (уникальный ключ)
- название
- количество
- цена за единицу
- поставщик

## История операций (OperationLog)
- дата и время операции
- тип операции (добавление, изменение, удаление)
- описание(сам запрос)
  
## Основные бизнес-процессы:
- Добавление нового товара
- Удаление существующего товара
- Изменение параметров товара
- Поиск товара по различным полям

## Архитектура и структура файлов БД

Система не использует внешние СУБД (SQLite, PostgreSQL и т.п.), а хранит данные в собственном файле (products.db).
Структура файла:

+--------------------------------------------------------------+
| Заголовок                                                    |
+--------------------------------------------------------------+
| Запись 1 | Запись 2 | Запись 3 | ... | Запись N              |
+--------------------------------------------------------------+

Журнал операций хранится в отдельном файле: usage.log

## Алгоритмы работы с БД

### Добавление записи
Логика:
Прочитать текущий размер файла
Добавить новую структуру в конец
Обновить счётчик записей
Записать лог операции
Сложность:
Если файл открывается в режиме RandomAccessFile
Добавление выполняется через append
Временная сложность:
O(1)
Запись добавляется в конец — нет необходимости сдвигать данные.
Это оптимальное поведение для линейного хранилища.

### Удаление записи
Поскольку используется простой линейный файл, удаление реализовано как:
Поиск записи по ID
Логическое удаление (пометка deleted=true)
или
физическое удаление (перезапись всего файла)
Мы используем физическое удаление — чтобы структура не разрасталась.
Сложность:
Поиск — O(N)
Перезапись файла — O(N)
Итого: O(N)

### Поиск по БД

Поиск поддерживается по:
ID
названию
категории
Сложность: O(N)
Так как используется последовательный просмотр.

### Временная статистика

Ниже приведены примерные результаты

Операция	Среднее время	Сложность
Добавление	0.15–0.20 ms	O(1)
Поиск по ID	0.45–0.55 ms	O(N)
Поиск по названию	0.6–0.9 ms	O(N)
Удаление	3–7 ms	O(N)

