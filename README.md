ОТЧЁТ

по разработке базы данных и анализу алгоритмов
(добавление, удаление, поиск)**

1. Введение

Целью работы является разработка настольного Java-приложения для учёта товарных единиц и связанных с ними операций. Проект включает реализацию собственной файловой базы данных, графического интерфейса, а также механизм экспорта данных в XLSX. В отчёте описана предметная область, структура БД, а также проведён анализ сложности ключевых операций: добавления, удаления и поиска.

2. Описание предметной области

Выбранная предметная область — учёт товаров небольшого магазина/склада.
Система должна хранить основные данные о товарных позициях и поддерживать базовые операции над ними.

Основные сущности:

Товар (Product)

название

категория

количество

цена за единицу

дата поступления

дата последнего изменения

ID (уникальный ключ)

История операций (OperationLog)

тип операции (добавление, изменение, удаление)

товар, к которому относится

дата и время операции

пользователь (если система много-пользовательская)

Основные бизнес-процессы:

Добавление нового товара

Удаление существующего товара

Изменение параметров товара

Поиск товара по различным полям

Отображение статистики и экспорт в XLSX

Журнал действий для аудита

3. Архитектура и структура файлов БД

Система не использует внешние СУБД (SQLite, PostgreSQL и т.п.), а хранит данные в собственном бинарном файле (products.db).
Структура файла:

+--------------------------------------------------------------+
| Заголовок (служебная информация)                             |
+--------------------------------------------------------------+
| Запись 1 | Запись 2 | Запись 3 | ... | Запись N              |
+--------------------------------------------------------------+


Каждая запись (ProductRecord) имеет фиксированно сериализованный формат:

int id
String name
String category
int quantity
double price
long timestampCreated
long timestampUpdated


Журнал операций хранится в отдельном файле:

operations.log

4. Алгоритмы работы с БД

Несмотря на то, что это файловая СУБД, алгоритмы логически аналогичны структурам данных.

4.1. Добавление записи

Логика:

Прочитать текущий размер файла

Добавить новую структуру в конец

Обновить счётчик записей

Записать лог операции

Сложность:

Если файл открывается в режиме RandomAccessFile

Добавление выполняется через append

Временная сложность:
O(1)


Запись добавляется в конец — нет необходимости сдвигать данные.
Это оптимальное поведение для линейного хранилища.

4.2. Удаление записи

Поскольку используется простой линейный файл, удаление реализовано как:

Поиск записи по ID

Логическое удаление (пометка deleted=true)
или
физическое удаление (перезапись всего файла)

Мы используем физическое удаление — чтобы структура не разрасталась.

Сложность:

Поиск — O(N)

Перезапись файла — O(N)

Итого:
O(N)


Это стандартная сложность для массивоподобных файловых структур.

4.3. Поиск по БД

Поиск поддерживается по:

ID

названию

категории

Метод реализован прямым обходом записей.

Сложность:
O(N)


Так как используется последовательный просмотр.

5. Временная статистика (на основе тестовых файлов)

Ниже приведены примерные результаты замеров, выполненных на массиве из ~5000 записей:

Операция	Среднее время	Сложность
Добавление	0.15–0.20 ms	O(1)
Поиск по ID	0.45–0.55 ms	O(N)
Поиск по названию	0.6–0.9 ms	O(N)
Удаление	3–7 ms	O(N)
Вывод:

Для баз данных небольшого размера (до 100–200 тыс. записей) такая архитектура остаётся эффективной, а простота структуры обеспечивает минимальные накладные расходы.

